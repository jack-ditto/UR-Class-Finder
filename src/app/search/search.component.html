<!-- Popup if backend server is unreacheable -->
<div class="alert alert-warning text-center" *ngIf="serverUnreacheable">
  <a
    (click)="serverUnreacheable = false"
    class="close"
    data-dismiss="alert"
    aria-label="close"
    >&times;</a
  >
  <strong>Attention:</strong> There was an error connecting to the backend
  server. You can show test data here to see how the app works
  <button class="btn btn-outline-dark ml-3" (click)="onClickTestData()">
    Test Data
  </button>
</div>
<!-- HEADING -->
<h1 class="display-3 text-center heading mb-0 text-primary">
  Welcome to UR Class Finder.
</h1>
<h3 class="text-muted display-5 text-center pb-3 sub">
  <small>It's so much better than the Bannerweb one.</small>
</h3>
<!-- MAIN CONTAINER -->
<div class="container">
  <!-- SEARCH FORM -->
  <form (ngSubmit)="onSubmit(f)" #f="ngForm">
    <div class="row mb-3">
      <div class="input-group offset-lg-1 col-lg-2 mb-2">
        <input
          id="className"
          name="className"
          ngModel
          class="form-control"
          type="text"
          placeholder="Class Name"
        />
      </div>
      <div class="input-group col-lg-2 col-md-4 mb-2 col-sm-12">
        <input
          id="crn"
          name="crn"
          ngModel
          class="form-control"
          type="text"
          placeholder="CRN"
        />
      </div>
      <div class="input-group col-lg-2 col-md-5 mb-2 col-sm-8">
        <input
          id="professor"
          name="professor"
          ngModel
          class="form-control"
          type="text"
          placeholder="Professor"
        />
      </div>
      <div class="input-group col-lg-2 col-md-3 mb-2 col-sm-3">
        <ss-multiselect-dropdown
          id="department"
          name="department"
          ngModel
          [options]="dropdownOptions"
          [texts]="dropdownTextsSettings"
          [settings]="dropdownRegSettings"
          [(ngModel)]="dropdownSelectedValues"
          (ngModelChange)="onChange($event)"
        ></ss-multiselect-dropdown>
      </div>
      <div class="input-group col-lg-2 col-md-2 mb-2">
        <button class="btn btn-outline-primary" type="submit">
          Search
        </button>
      </div>
    </div>
  </form>

  <!-- SEARCH RESULTS TABLE -->
  <table class="table table-hover color-grey">
    <thead>
      <tr>
        <th>Action</th>
        <th>Class Name</th>
        <th>CRN</th>
        <th>Professor</th>
        <th>Time</th>
        <th>Location</th>
        <th>Subject</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let class of classes; let i = index">
        <td>
          <button class="btn btn-outline-primary btn-sm ">
            <div *ngIf="!class.inCart" (click)="addToCart(i)">Add</div>
            <div *ngIf="class.inCart" (click)="removeFromCart(i)">Remove</div>
          </button>
        </td>
        <td>{{ class.name }}</td>
        <td>{{ class.crn }}</td>
        <td>{{ class.professor }}</td>
        <td>{{ class.startTime }} - {{ class.endTime }}</td>
        <td>{{ class.location }}</td>
        <td>{{ class.subject }}</td>
      </tr>
    </tbody>
  </table>
  <h4 class="text-center text-muted display-5" *ngIf="classes.length == 0">
    <small>Search above to find classes...</small>
  </h4>
</div>
